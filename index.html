<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Evolution: Jungle Edition</title>
    <link rel="stylesheet" href="style.css">
    <!-- Teachable Machine -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
</head>
<body>
    <!-- Decoraci√≥n de Selva -->
    <div class="jungle-decoration">
        <!-- √Årboles laterales -->
        <div class="tree tree-left-1"></div>
        <div class="tree tree-left-2"></div>
        <div class="tree tree-right-1"></div>
        <div class="tree tree-right-2"></div>
        
        <!-- Arbustos -->
        <div class="bush bush-left-1"></div>
        <div class="bush bush-left-2"></div>
        <div class="bush bush-right-1"></div>
        <div class="bush bush-right-2"></div>
        
        <!-- Lianas -->
        <div class="vine vine-1"></div>
        <div class="vine vine-2"></div>
        <div class="vine vine-3"></div>
        <div class="vine vine-4"></div>
        
        <!-- Hojas grandes -->
        <div class="leaf leaf-1"></div>
        <div class="leaf leaf-2"></div>
        <div class="leaf leaf-3"></div>
        <div class="leaf leaf-4"></div>
    </div>

    <!-- Pantalla de Introducci√≥n -->
    <div id="intro-screen" class="screen active">
        <div class="intro-content">
            <h1 class="game-title">Snake Evolution: Jungle Edition</h1>
            <p class="story-text">
                Eres una serpiente ancestral que despierta en el coraz√≥n de una selva digital. 
                Tu instinto te gu√≠a entre la vegetaci√≥n para alimentarte y crecer, pero el peligro 
                acecha en cada movimiento. Sobrevive, crece y domina el ecosistema.
            </p>
            <div class="control-selection">
                <h3 style="color: #8bc34a; margin-bottom: 1rem;">Elige tu m√©todo de control:</h3>
                <button id="start-keyboard-btn" class="btn btn-primary">‚å®Ô∏è Teclado</button>
                <button id="start-camera-btn" class="btn btn-primary">üì∑ C√°mara (IA)</button>
            </div>
        </div>
    </div>

    <!-- Pantalla de Juego -->
    <div id="game-screen" class="screen">
        <div class="game-header">
            <div class="score-container">
                <span class="label">Puntuaci√≥n:</span>
                <span id="current-score">0</span>
            </div>
            <div class="score-container">
                <span class="label">R√©cord:</span>
                <span id="high-score">0</span>
            </div>
            <button id="sound-toggle" class="btn-icon">üîä</button>
        </div>
        <canvas id="game-canvas"></canvas>
        
        <!-- Webcam para control por IA -->
        <div id="webcam-container" style="display: none; position: absolute; top: 20px; right: 20px; z-index: 100;">
            <video id="webcam" autoplay playsinline style="width: 200px; height: 150px; border: 3px solid #8bc34a; border-radius: 10px; transform: scaleX(-1);"></video>
            <div id="label-container" style="margin-top: 10px; background: rgba(0,0,0,0.8); padding: 10px; border-radius: 5px; font-size: 0.9rem;"></div>
        </div>
        
        <!-- Controles T√°ctiles (solo m√≥vil) -->
        <div id="touch-controls" class="touch-controls">
            <button class="touch-btn touch-up" data-direction="up">‚Üë</button>
            <button class="touch-btn touch-down" data-direction="down">‚Üì</button>
            <button class="touch-btn touch-left" data-direction="left">‚Üê</button>
            <button class="touch-btn touch-right" data-direction="right">‚Üí</button>
        </div>
    </div>

    <!-- Pantalla de Game Over -->
    <div id="gameover-screen" class="screen">
        <div class="gameover-content">
            <h2 class="gameover-title">¬°Juego Terminado!</h2>
            <p class="final-score">Puntuaci√≥n: <span id="final-score">0</span></p>
            <p class="best-score">Mejor Puntuaci√≥n: <span id="best-score">0</span></p>
            <div class="button-group">
                <button id="retry-btn" class="btn btn-primary">Reintentar</button>
                <button id="home-btn" class="btn btn-secondary">Volver al inicio</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
